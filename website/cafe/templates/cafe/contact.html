{% extends "base.html" %}
{% load static %}

{% block title %}Contact | Noi’s Cozy Cup{% endblock %}

{% block content %}

<!-- HERO -->
<section class="py-5 bg-light">
  <div class="container text-center">
    <h1 class="fw-bold mb-2">Contact Us</h1>
    <p class="text-muted mb-0">
      Have a question, or just say hello? Send us a message.
    </p>
  </div>
</section>

<section class="py-5">
  <div class="container">

    <div class="row g-4 align-items-stretch">

      <!-- LEFT: CONTACT INFO -->
      <div class="col-12 col-lg-5">
        <div class="card border-0 shadow-sm h-100 rounded-4">
          <div class="card-body p-4 p-md-5">
            <h4 class="fw-bold mb-3">Our Details</h4>
            <p class="text-muted">
              We usually reply within 24 hours. For urgent requests, call us directly.
            </p>

            <hr class="my-4">

            <div class="mb-3">
              <div class="fw-semibold">Email</div>
              <a class="text-decoration-none" href="mailto:info@noiscozycup.al">info@noiscozycup.al</a>
            </div>

            <div class="mb-3">
              <div class="fw-semibold">Phone</div>
              <a class="text-decoration-none" href="tel:+355680000000">+355 68 000 0000</a>
            </div>

            <div class="mb-3">
              <div class="fw-semibold">Address</div>
              <div class="text-muted">Rruga e Kavajës, Tirana</div>
            </div>

            <div class="mt-4 p-3 rounded-4 bg-light">
              <div class="fw-semibold">Opening Hours</div>
              <div class="text-muted">Monday – Sunday: 07:00 – 22:30</div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: FORM -->
      <div class="col-12 col-lg-7">
        <div class="card border-0 shadow-sm h-100 rounded-4">
          <div class="card-body p-4 p-md-5">

            <h4 class="fw-bold mb-3">Send a Message</h4>
            <p class="text-muted mb-4">
              Fill the form and we’ll get back to you as soon as possible.
            </p>



            <!-- Error message (JS) -->
            <div id="errorBox" class="alert alert-danger d-none" role="alert"></div>

            <form method="POST" id="contactForm" novalidate>
              {% csrf_token %}

              <div class="form-floating mb-3">
                <input type="text" name="name" class="form-control" id="nameInput" placeholder="Your Name">
                <label for="nameInput">Your Name</label>
              </div>

              <div class="form-floating mb-3">
                <input type="email" name="email" class="form-control" id="emailInput" placeholder="Email">
                <label for="emailInput">Email</label>
              </div>

              <div class="form-floating mb-3">
                <textarea name="message" class="form-control" id="messageInput" placeholder="Message" style="height: 140px"></textarea>
                <label for="messageInput">Message</label>
              </div>

              <div class="d-grid">
                <button type="submit" class="btn btn-dark py-3">Send</button>
              </div>

              <p class="text-muted small mt-3 mb-0">
                By submitting this form, you agree that we may contact you regarding your message.
              </p>
            </form>

          </div>
        </div>
      </div>

    </div>

  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("contactForm");
  const errorBox = document.getElementById("errorBox");

  form.addEventListener("submit", function (e) {
    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const message = form.message.value.trim();

    const nameRegex = /^[A-Za-z\s]+$/;
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    let errorMsg = "";

    if (!name || !email || !message) {
      errorMsg = "Please fill in all fields.";
    } else if (!nameRegex.test(name)) {
      errorMsg = "Name must contain only letters and spaces.";
    } else if (!emailRegex.test(email)) {
      errorMsg = "Please enter a valid email address.";
    }

    if (errorMsg) {
      e.preventDefault();
      errorBox.textContent = errorMsg;
      errorBox.classList.remove("d-none");
      errorBox.scrollIntoView({ behavior: "smooth", block: "center" });
    } else {
      errorBox.classList.add("d-none");
    }
  });
});
</script>

{% endblock %}
